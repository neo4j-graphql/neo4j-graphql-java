// This file was generated by the Test-Case extractor of neo4j-graphql
:toc:
:toclevels: 42

= Aliasing

== Setup

.Schema
[source,graphql,schema=true]
----
type Movie {
  id: ID!
  budget: Int!
  boxOffice: Float!
}
----

.Test Data
[source,cypher,test-data=true]
----
CREATE (movie:Movie)
 SET movie += {id: "RandomString1", boxOffice: 465.3, budget: 63}
----

== should correctly alias an ID field

.GraphQL-Query
[source,graphql,request=true]
----
query ($id: ID!) {
  movies(where: {id: $id}) {
    aliased: id
    budget
    boxOffice
  }
}
----

.GraphQL params input
[source,json,request=true]
----
{
  "id": "RandomString1"
}
----

.Expected Cypher params
[source,json]
----
{
  "param0": "RandomString1"
}
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:Movie)
WHERE this.id = $param0
RETURN this { .budget, .boxOffice, aliased: this.id } AS this
----

.GraphQL-Response
[source,json,response=true]
----
{
  "movies": [
    {
      "aliased": "RandomString1",
      "budget": 63,
      "boxOffice": 465.3
    }
  ]
}
----

== should correctly alias an Int field

.GraphQL-Query
[source,graphql,request=true]
----
query ($id: ID!) {
  movies(where: {id: $id}) {
    id
    aliased: budget
    boxOffice
  }
}
----

.GraphQL params input
[source,json,request=true]
----
{
  "id": "RandomString1"
}
----

.Expected Cypher params
[source,json]
----
{
  "param0": "RandomString1"
}
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:Movie)
WHERE this.id = $param0
RETURN this { .id, .boxOffice, aliased: this.budget } AS this
----

.GraphQL-Response
[source,json,response=true]
----
{
  "movies": [
    {
      "id": "RandomString1",
      "aliased": 63,
      "boxOffice": 465.3
    }
  ]
}
----

== should correctly alias an Float field

.GraphQL-Query
[source,graphql,request=true]
----
query ($id: ID!) {
  movies(where: {id: $id}) {
    id
    budget
    aliased: boxOffice
  }
}
----

.GraphQL params input
[source,json,request=true]
----
{
  "id": "RandomString1"
}
----

.Expected Cypher params
[source,json]
----
{
  "param0": "RandomString1"
}
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:Movie)
WHERE this.id = $param0
RETURN this { .id, .budget, aliased: this.boxOffice } AS this
----

.GraphQL-Response
[source,json,response=true]
----
{
  "movies": [
    {
      "id": "RandomString1",
      "budget": 63,
      "aliased": 465.3
    }
  ]
}
----
