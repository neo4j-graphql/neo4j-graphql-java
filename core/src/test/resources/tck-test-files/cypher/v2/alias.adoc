:toc:

= Cypher Alias

== Source schema

[source,graphql,schema=true]
----
type Actor {
  name: String!
}

type Movie {
  id: ID
  releaseDate: DateTime!
  location: Point!
  actors: [Actor!]! @relationship(type: "ACTED_IN", direction: IN)
  custom: [Movie!]! @cypher(statement: """
  MATCH (m:Movie)
  RETURN m
  """, columnName: "m")
}
----
== Alias

.GraphQL-Query
[source,graphql]
----
{
  movies {
    movieId: id
    actors {
      aliasActorsName: name
    }
    custom {
      aliasCustomId: id
    }
  }
}
----

.Expected Cypher params
[source,json]
----
{ }
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:Movie)
CALL {
	WITH this
	CALL {
		WITH this
		WITH this AS this
		MATCH (m:Movie)
		RETURN m
	}
	WITH m AS this0
	RETURN collect(this0 {
		aliasCustomId: this0.id
	}) AS this0
}
CALL {
	WITH this
	MATCH (this)<-[this1:ACTED_IN]-(this2:Actor)
	WITH this2 {
		aliasActorsName: this2.name
	} AS this2
	RETURN collect(this2) AS var3
}
RETURN this {
	movieId: this.id,
	actors: var3,
	custom: this0
} AS this
----

'''

