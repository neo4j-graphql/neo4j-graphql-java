:toc:
:toclevels: 42

= #402

== Setup

.Schema
[source,graphql,schema=true]
----
type Event {
  id: ID!
  area: Area! @relationship(type: "HAPPENS_IN", direction: OUT)
}

type Area {
  id: ID!
}
----

== Should ignore the empty array and not include any where

.GraphQL-Query
[source,graphql,request=true]
----
query ($area: [ID!]) {
  events(where: {area: {id_IN: $area}}) {
    id
    area {
      id
    }
  }
}
----

.Expected Cypher params
[source,json]
----
{ }
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:Event)
CALL {
	WITH this
	MATCH (this)-[happensIn0:HAPPENS_IN]->(area0:Area)
	WITH area0 {
		.id
	} AS area
	RETURN head(collect(area)) AS area
}
RETURN this {
	.id,
	area: area
} AS this
----
