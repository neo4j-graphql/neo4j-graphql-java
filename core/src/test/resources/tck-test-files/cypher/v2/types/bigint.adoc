:toc:

= Cypher BigInt

== Source schema

[source,graphql,schema=true]
----
type File {
  name: String!
  size: BigInt!
}
----

== Configuration

.Configuration
[source,json,schema-config=true]
----
{
  "enableRegex": true
}
----
== Querying with BigInt as string in AST

.GraphQL-Query
[source,graphql]
----
{
  files(where: {size: "9223372036854775807"}) {
    name
  }
}
----

.Expected Cypher params
[source,json]
----
{
  "this_size": "9223372036854775807"
}
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:File)
WHERE this.size = $this_size
RETURN this { .name } as this
----

'''

== Querying with BigInt as string in variables

.GraphQL-Query
[source,graphql]
----
query Files($size: BigInt) {
  files(where: {size: $size}) {
    name
  }
}
----

.GraphQL params input
[source,json,request=true]
----
{
  "size": "9223372036854775807"
}
----

.Expected Cypher params
[source,json]
----
{
  "this_size": "9223372036854775807"
}
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:File)
WHERE this.size = $this_size
RETURN this { .name } as this
----

'''

== Querying with native BigInt in AST

.GraphQL-Query
[source,graphql]
----
{
  files(where: {size: 9223372036854775807}) {
    name
  }
}
----

.Expected Cypher params
[source,json]
----
{
  "this_size": "9223372036854775807"
}
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:File)
WHERE this.size = $this_size
RETURN this { .name } as this
----

'''

