:toc:
:toclevels: 42

= Sort

== sort argument is not present when nothing to sort

.Schema
[source,graphql,schema=true]
----
type Node1 {
  property: String!
  relatedTo: [Node2!]! @relationship(type: "RELATED_TO", direction: OUT)
}

type Node2 {
  relatedTo: [Node1!]! @relationship(type: "RELATED_TO", direction: OUT)
}
----

.Augmented Schema
[source,graphql]
----
schema {
  query: Query
}

type Node1 {
  property: String!
  relatedTo(directed: Boolean = true, options: Node2Options, where: Node2Where): [Node2!]!
  relatedToConnection(after: String, directed: Boolean = true, first: Int, where: Node1RelatedToConnectionWhere): Node1RelatedToConnection!
}

type Node1Edge {
  cursor: String!
  node: Node1!
}

type Node1RelatedToConnection {
  edges: [Node1RelatedToRelationship!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

type Node1RelatedToRelationship {
  cursor: String!
  node: Node2!
}

type Node1sConnection {
  edges: [Node1Edge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

type Node2 {
  relatedTo(directed: Boolean = true, options: Node1Options, where: Node1Where): [Node1!]!
  relatedToConnection(after: String, directed: Boolean = true, first: Int, sort: [Node2RelatedToConnectionSort!], where: Node2RelatedToConnectionWhere): Node2RelatedToConnection!
}

type Node2Edge {
  cursor: String!
  node: Node2!
}

type Node2RelatedToConnection {
  edges: [Node2RelatedToRelationship!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

type Node2RelatedToRelationship {
  cursor: String!
  node: Node1!
}

type Node2sConnection {
  edges: [Node2Edge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

"Pagination information (Relay)"
type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
}

type Query {
  node1s(options: Node1Options, where: Node1Where): [Node1!]!
  node1sConnection(after: String, first: Int, sort: [Node1Sort], where: Node1Where): Node1sConnection!
  node2s(options: Node2Options, where: Node2Where): [Node2!]!
  node2sConnection(after: String, first: Int, where: Node2Where): Node2sConnection!
}

"An enum for sorting in either ascending or descending order."
enum SortDirection {
  "Sort by field values in ascending order."
  ASC
  "Sort by field values in descending order."
  DESC
}

input Node1Options {
  limit: Int
  offset: Int
  "Specify one or more Node1Sort objects to sort Node1s by. The sorts will be applied in the order in which they are arranged in the array."
  sort: [Node1Sort!]
}

input Node1RelatedToConnectionWhere {
  AND: [Node1RelatedToConnectionWhere!]
  NOT: Node1RelatedToConnectionWhere
  OR: [Node1RelatedToConnectionWhere!]
  node: Node2Where
}

"Fields to sort Node1s by. The order in which sorts are applied is not guaranteed when specifying many fields in one Node1Sort object."
input Node1Sort {
  property: SortDirection
}

input Node1Where {
  AND: [Node1Where!]
  NOT: Node1Where
  OR: [Node1Where!]
  property: String
  property_CONTAINS: String
  property_ENDS_WITH: String
  property_IN: [String!]
  property_STARTS_WITH: String
  "Return Node1s where all of the related Node1RelatedToConnections match this filter"
  relatedToConnection_ALL: Node1RelatedToConnectionWhere
  "Return Node1s where none of the related Node1RelatedToConnections match this filter"
  relatedToConnection_NONE: Node1RelatedToConnectionWhere
  "Return Node1s where one of the related Node1RelatedToConnections match this filter"
  relatedToConnection_SINGLE: Node1RelatedToConnectionWhere
  "Return Node1s where some of the related Node1RelatedToConnections match this filter"
  relatedToConnection_SOME: Node1RelatedToConnectionWhere
  "Return Node1s where all of the related Node2s match this filter"
  relatedTo_ALL: Node2Where
  "Return Node1s where none of the related Node2s match this filter"
  relatedTo_NONE: Node2Where
  "Return Node1s where one of the related Node2s match this filter"
  relatedTo_SINGLE: Node2Where
  "Return Node1s where some of the related Node2s match this filter"
  relatedTo_SOME: Node2Where
}

input Node2Options {
  limit: Int
  offset: Int
}

input Node2RelatedToConnectionSort {
  node: Node1Sort
}

input Node2RelatedToConnectionWhere {
  AND: [Node2RelatedToConnectionWhere!]
  NOT: Node2RelatedToConnectionWhere
  OR: [Node2RelatedToConnectionWhere!]
  node: Node1Where
}

input Node2Where {
  AND: [Node2Where!]
  NOT: Node2Where
  OR: [Node2Where!]
  "Return Node2s where all of the related Node2RelatedToConnections match this filter"
  relatedToConnection_ALL: Node2RelatedToConnectionWhere
  "Return Node2s where none of the related Node2RelatedToConnections match this filter"
  relatedToConnection_NONE: Node2RelatedToConnectionWhere
  "Return Node2s where one of the related Node2RelatedToConnections match this filter"
  relatedToConnection_SINGLE: Node2RelatedToConnectionWhere
  "Return Node2s where some of the related Node2RelatedToConnections match this filter"
  relatedToConnection_SOME: Node2RelatedToConnectionWhere
  "Return Node2s where all of the related Node1s match this filter"
  relatedTo_ALL: Node1Where
  "Return Node2s where none of the related Node1s match this filter"
  relatedTo_NONE: Node1Where
  "Return Node2s where one of the related Node1s match this filter"
  relatedTo_SINGLE: Node1Where
  "Return Node2s where some of the related Node1s match this filter"
  relatedTo_SOME: Node1Where
}

----

'''

